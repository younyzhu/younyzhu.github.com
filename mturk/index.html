<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>PathWay Graph adjusting Task</title>
    <link rel=stylesheet href="css/index.css"/>
</head>
<body>
<div class="bigTitle">Pathway Visualization Task</div>
<br/>

<div class="centerBox">
<br/>

<p class="superText2"> Welcome and thank you for agreeing to participate in this study.
    Your effort will help us improve scientific research.
</p>
<hr/>
<h2>1. System Requirement</h2>

<p>
    Your brower must support WebGL, i.e., your browser must be either
    Safari or
    firefox or Google Chrome or IE 11
    (see <a href=https://support.google.com/chrome/answer/1220892 target="_bank">google support</a>).
    <br>
    You can continue if
    you see the image with a <b>UMBC</b> logo. <br/>
    Otherwise, thank you and please do not accept the study.
</p>
<canvas id="myCanvas"></canvas>
<script>
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    var imageObj = new Image();

    imageObj.onload = function () {
        context.drawImage(imageObj, 0, 0);
    };
    imageObj.src = 'http://www.csee.umbc.edu/~yongnan/images/UMBCretrievers_LOGO.jpg';
</script>
<h2>2. Your Task</h2>

<p>
    Your task is to re-arrange components in biological pathways
    to produce legible and
    aesthetically pleasing layout.</p>

<p>
    For example, Fig.2(a) is the original graph and Fig.2(b) is the re-arranged
    ones that obey the rules in Section 3.1.
</p>
<img alt="simbols" width="1000" src="http://www.csee.umbc.edu/~yongnan/images/exp.png"/>

<p style="text-align: center">Fig.2 An Example Task and Result.</p>

<p>To make your layout acceptable, your graph MUST</p>
<UL>
    <LI> contains less numbers of edge crossing than the time your started.
    <LI> have no nodes overlapping.
    <LI> have no nodes moving out of a compartment.
</UL>
<p>To reach these goals, please follow the instructions.</p>

<h2>3. Introduction</h2>

<p>A pathway graph is represented using
    compartment (blocks), nodes, and edges. Here a compartment(block)
    contains nodes
    and edges as well.
    <br/>
    An example graph is shown below (Fig.1):
</p>
<img alt="simbols" src="http://www.csee.umbc.edu/~yongnan/images/fig31.PNG"/>

<p style="text-align: center">Fig.1 A simple pathway graph.</p>

<p>
    <b>Compartments (blocks)</b>: G, H<br>
    <b>Nodes</b>: A, B, C , D, E, F<br>
    <b>Edges</b>: E->F, F->C, C->A, C->D, B->D
    <br>
    All edges are directional, which has a start point and an endpoint.<br/>
</p>

<h3> 3.1 Rules </h3>
Here are some rules of thumb with examples
that will help you re-arrange the graph
to produce more legible and
aesthetically pleasing layout.
<p>

<table border="1" style="width:1000px">
    <tr>
        <td> Rules</td>
        <td> Operation</td>
        <td> Example Input</td>
        <td> Example Output</td>
    </tr>

    <tr>
        <td>Avoid overlapping nodes</td>
        <td> drag a node so nodes won't overlap.</td>
        <td>
            <img alt="edge_crossing" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOverlapping.PNG"/>
        </td>

        <td>
            <img alt="edge_crossing" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOverlapping1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Reduce edge crossing.</td>
        <td> drag a node so edges won't intersect.</td>
        <td>
            <img alt="edge_crossing" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/edgeCrossing.PNG"/>
        </td>
        <td>

            <img alt="edge_crossing1" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/edgeCrossing1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Reduce edge length.</td>
        <td> there are some unnecessarily long edges in the graphs, please
            drag the nodes (or a group of nodes) to shorten the edges.
        </td>
        <td><img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/edgeLength.PNG"/>
        </td>
        <td><img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/edgeLength1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Move a compartment</td>
        <td>
            If a compartment has no connections to any other compartments,
            move it to the top of the page.
        </td>
        <td><img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/noConnection.PNG"/>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/noConnection1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Direction of the arrows</td>
        <td>Move nodes and compartment to make sure most arrows are
            pointing downwards.
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/arrowDirection.PNG"/>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/arrowDirection1.PNG"/>
        </td>
    </tr>

    <tr>
        <td><font color="red">Never ever change the containing relationships</font>
        </td>
        <td><font color="red">In your final graph, never place a node outside of
            a compartment it belongs to.
        </font>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOutside.PNG"/>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOutside1.PNG"/>
        </td>
    </tr>
</table>

<p>

    To make a graph aesthetically pleasing, you may
</p>
<ul>
    <LI> make the nodes evenly distributed in the space.</LI>
    <LI> avoid edge crossing and overlaps by all means.</LI>
    <LI> resize the compartment to take less screen space.</LI>
    <LI> reize the compartment to fit better.</LI>
    <LI> make sure the graph looked balanced.</LI>
</ul>

<h3>3.2 Procedures</h3>

<UL>
    <Li>Please open the website through the link we give you in each task, After you open the website you will see an interface
        like this (see Fig.3 Interface below)<br/>
        &nbsp;&nbsp;&nbsp;(1) In the right corner of the screen is the menu bar, which has 4 types of buttons.<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Stop Force Direct</b>: you can press this to stop automatic layout.<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Left edge Intersection</b>: you can press this to detect how many edge intersection in the current graph.<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Your Worker ID</b>: you should input your amazon mechnical turk worker Id to get the pay.<br/>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>Send</b>: After you finish your work and input you worker ID, you can send the data to our server.<br/>
        &nbsp;&nbsp;&nbsp;(2) In the center of the interface, you will see many of the nodes in the compartment which are moving automatically.
        (We automatically layout the graph, when loading the graph)<br/>
    </Li>
    <Li>After you find all the nodes become stable, or the number of the overlapping and intersection is less, you can Press the <b>Stop Force Direct</b>
        in the menubar to stop the automatic adjust. And then you can press any white space in the screen, it will show you the graph you need to adjust.</Li>
    <LI>You may begin by dragging the nodes and compartments using left mouse button.
        Compartment are also resizable. To do this, you can click the empty
        space in an compartment, you will see the compartment turns yellow and eight
        red-colored widgets on the edges. You may
        drag the widgets to resize it).
        You can also select a group of nodes by holding down the "Ctrl" key on your
        keyboard while using left-mouse selection.</Li>
    <LI> You may save intermedidate results. To save your result,
        put your "worker ID" in the menu bar located in the upper right corner of the screen
        and then click the "send" button.</Li>
    <LI> You can click "Number of edge crossing" to test whether or not your layout
        is valid (fewer the better.) The original number of edge crossing is displayed
        on the screen already.</Li>
    <LI> When you are done, again, put your "worker ID" and click the "send" button.</Li>
    <LI> Just in case you put in a wrong "worker ID", simply put it again.</Li>
</UL>

<br/>
<img alt="interface" width="1000" src="http://www.csee.umbc.edu/~yongnan/images/interface.PNG"/>

<p style="text-align: center">Fig.3 Interface.</p>

<h2>Notes</h2>

<p> Please rearrange the layout as fast and as carefully as you can.
    All your activities will be recorded including all mouse actions.

<h2>Disclaims</h2>
We reserve the right to not to accept your layout based on the rules
described above.
If you think your layout is better but your layout gets rejected, please contact
Yongnan Zhu at <a href="mailto:yongnan@umbc.edu">
    <span style='font-family:Helvetica'>yongnan@umbc.edu</span></a>
<span style='font-family:Helvetica'><o:p></o:p></span>.

<h2> Thank you very much Again! </h2>
</p>
<br/>
</div>
<br/>
</body>
</html>
