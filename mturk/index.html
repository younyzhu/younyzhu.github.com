<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>PathWay Graph adjusting Task</title>
    <link rel=stylesheet href="css/index.css"/>
</head>
<body>
<div class="bigTitle">Pathway Visualization Task</div>
<br/>

<div class="centerBox">
<br/>

<p class="superText2"> Welcome and thank you for agreeing to participate in this study.
    Your effort will help us improve scientific research.
</p>
<hr/>
<h2>1. System Requirement</h2>
<p>
    Your brower must support WebGL, i.e., your browser must be either
    Safari or
    firefox or Google Chrome or IE 11
    (see <a href=https://support.google.com/chrome/answer/1220892 target="_bank">google support</a>).
    <br>
    You can continue if
    you see the image with a <b>UMBC</b> logo. <br/>
    Otherwise, thank you and please do not accept the study.
</p>
<canvas id="myCanvas"></canvas>
<script>
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    var imageObj = new Image();

    imageObj.onload = function () {
        context.drawImage(imageObj, 0, 0);
    };
    imageObj.src = 'http://www.csee.umbc.edu/~yongnan/images/UMBCretrievers_LOGO.jpg';
</script>
<h2>2. Your Task</h2>

<p>
    Your task is to re-arrange components in biological pathways
    to produce legible and
    aesthetically pleasing layout.</p>
<p>
    For example, Fig.2(a) is the original graph and Fig.2(b) is the re-arranged
    ones that obey the rules in Section 3.1.
</p>
<img alt="simbols" width="1000" src="http://www.csee.umbc.edu/~yongnan/images/exp.png"/>

<p style="text-align: center">Fig.2 An Example Task and Result.</p>

<p>To make your layout acceptable, your graph MUST</p>
<UL>
    <LI> contains less numbers of edge crossing than the time your started.
    <LI> have no nodes overlapping.
    <LI> have no nodes moving out of a compartment.
</UL>
<p>To reach these goals, please follow the instructions.</p>

<h2>3. Introduction</h2>

<p>A pathway graph is represented using
    compartment (blocks), nodes, and edges. Here a compartment(block)
    contains nodes
    and edges as well.
    <br/>
    An example graph is shown below (Fig.1):
</p>
<img alt="simbols" src="http://www.csee.umbc.edu/~yongnan/images/fig31.PNG"/>

<p style="text-align: center">Fig.1 A simple pathway graph.</p>

<p>
    <b>Compartments (blocks)</b>: G, H<br>
    <b>Nodes</b>: A, B, C , D, E, F<br>
    <b>Edges</b>: E->F, F->C, C->A, C->D, B->D
    <br>
    All edges are directional, which has a start point and an endpoint.<br/>
</p>

<h3> 3.1 Rules </h3>
Here are some rules of thumb with examples
that will help you re-arrange the graph
to produce more legible and
aesthetically pleasing layout.
<p>

<table border="1" style="width:1000px">
    <tr>
        <td> Rules</td>
        <td> Operation</td>
        <td> Example Input</td>
        <td> Example Output</td>
    </tr>

    <tr>
        <td>Avoid overlapping nodes</td>
        <td> drag a node so nodes won't overlap.</td>
        <td>
            <img alt="edge_crossing" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOverlapping.PNG"/>
        </td>

        <td>
            <img alt="edge_crossing" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOverlapping1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Reduce edge crossing.</td>
        <td> drag a node so edges won't intersect.</td>
        <td>
            <img alt="edge_crossing" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/edgeCrossing.PNG"/>
        </td>
        <td>

            <img alt="edge_crossing1" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/edgeCrossing1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Reduce edge length.</td>
        <td> there are some unnecessarily long edges in the graphs, please
            drag the nodes (or a group of nodes) to shorten the edges.
        </td>
        <td>             <img alt="edge_Length" width="200" height="200"
                              src="http://www.csee.umbc.edu/~yongnan/images/edgeLength.PNG"/>
        </td>
        <td>             <img alt="edge_Length" width="200" height="200"
                              src="http://www.csee.umbc.edu/~yongnan/images/edgeLength1.PNG"/>
        </td>
    </tr>

    <tr>
        <td>Move a compartment</td>
        <td>
            If a compartment has no connections to any other compartments,
            move it to the top of the page.
        </td>
        <td><img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/noConnection.PNG"/>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                              src="http://www.csee.umbc.edu/~yongnan/images/noConnection1.PNG"/>
    </td>
    </tr>

    <tr>
        <td>Direction of the arrows</td>
        <td>Move nodes and compartment to make sure most arrows are
            pointing downwards.
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/arrowDirection.PNG"/>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/arrowDirection1.PNG"/>
        </td>
    </tr>

    <tr>
        <td><font color="red">Never ever change the containing relationships</font>
        </td>
        <td><font color="red">In your final graph, never place a node outside of
            a compartment it belongs to.
            </font>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOutside.PNG"/>
        </td>
        <td>
            <img alt="edge_Length" width="200" height="200"
                 src="http://www.csee.umbc.edu/~yongnan/images/nodeOutside1.PNG"/>
        </td>
    </tr>
</table>

<p>

    To make a graph aesthetically pleasing, you may
</p>
<ul>
    <LI> make the nodes evenly distributed in the space.</LI>
    <LI> avoid edge crossing and overlaps by all means. </LI>
    <LI> resize the compartment to take less screen space.   </LI>
    <LI> reize the compartment to fit better.                     </LI>
    <LI> make sure the graph looked balanced.                          </LI>
</ul>



<h3>3.2 Procedures</h3>

<p>

<UL>
    <LI> You may begin by dragging the nodes and compartments using left mouse button.
        Compartment are also resizable. To do this, you can click the empty
        space in an compartment, you will see the compartment turns yellow and eight
        red-colored widgets on the edges. You may
        drag the widgets to resize it).
        You can also select a group of nodes by holding down the "Ctrl" key on your
        keyboard while using left-mouse selection.
    <LI> You may save intermedidate results. To save your result,
        put your "worker ID" in the menu bar located in the upper right corner of the screen
        and then click the "send" button.
    <LI> You can click "Number of edge crossing" to test whether or not your layout
        is valid (fewer the better.) The original number of edge crossing is displayed
        on the screen already.
    <LI> When you are done, again, put your "worker ID" and click the "send" button.
    <LI> Just in case you put in a wrong "worker ID", simply put it again.
</UL>

<br/>
<img alt="interface" width="1000" src="http://www.csee.umbc.edu/~yongnan/images/interface.PNG"/>

<p style="text-align: center">Fig.3 Traing case.</p>

</ol>
<h3> 3.3 Examples Explained </h3>
<br/>

<p>In the following examples, we will show you some graph images, and guide you how to arrange it.
<h4>Example 1: Reduce edge crossing</h4>

<img alt="edge_crossing" width="150" height="150"
     src="http://www.csee.umbc.edu/~yongnan/images/edge_crossing.PNG"/>

<p style="text-align: center">Fig.4 edge_crossing.</p>
<br/>

<p>
    As you can see from this image (Fig.4), there is a crossing, so you need to move the node to avoid this Edge
    crossing(Rule 1).
    You can move the node <b> C </b>,
    you can move the node <b> A </b> or you can move node <b> D</b>. It's up to you. Here I move the mode <b> C </b>.
    The result is this (Fig.5).
</p><br/>
<img alt="edge_crossing1" width="150" height="150"
     src="http://www.csee.umbc.edu/~yongnan/images/edge_crossing1.PNG"/>

<p style="text-align: center">Fig.5 edge_crossing change 1.</p>
<br/>

<p>
    After this, you will find there are too many horizonizal arrows, From <b> Rule 5 </b>, we should make the
    arrow go down. The result is this (Fig.5).
</p>
<br/>
<img alt="edge_crossing2.PNG" width="150" height="150"
     src="http://www.csee.umbc.edu/~yongnan/images/edge_crossing2.PNG"/>

<p style="text-align: center">Fig.6 edge_crossing change 2.</p>
<br/>

<h4>Example 2</h4>
<br/>
<img alt="length" width="150" height="150" src="http://www.csee.umbc.edu/~yongnan/images/length.PNG"/>

<p style="text-align: center">Fig.7 Length.</p>
<br/>

<p> As you can see image (Fig.7), there are two compartments in a graph, there is an edge <b>C F</b> that combines nodes
    of
    those compartments.
    However, <b>C F</b> is too long, we need to make it shorter, and also the direction of Arrow <b>C A </b> is not
    going down.
    We can exchange Node<b> A </b>and Node <b> C </b>, the result is image (Fig.8).
</p>
<br/>
<img alt="length1" width="150" height="150" src="http://www.csee.umbc.edu/~yongnan/images/length1.PNG"/>

<p style="text-align: center">Fig.8 Reduce length.</p>
<br/>

<p>Here you can see the length of the <b>C F</b> is almost the distance of the two compartments. Also you can
    exchanged the <b>E F</b> to make it shorter.
</p>

<h4>Example 3</h4>

<br/>
<img alt="overlap" width="150" height="150" src="http://www.csee.umbc.edu/~yongnan/images/overlap.PNG"/>

<p style="text-align: center">Fig.9 Node overlapping.</p>
<br/>

<p> Here, in image (Fig.9) you can see Node <b>D</b> and Node <b>E</b> are overlaped together. From <b>Rule Six </b> we
    should
</p> avoid node overlapping. So we need to split them.
<br/>
<img alt="overlap" width="150" height="150" src="http://www.csee.umbc.edu/~yongnan/images/overlap1.PNG"/>
<br/>


<h2>Notes</h2>

<p> Please rearrange the layout as fast and as carefully as you can.
    All your activities will be recorded including all mouse actions.

<h2>Disclaims</h2>
We reserve the right to not to accept your layout based on the rules
described above.
If you think your layout is better but your layout gets rejected, please contact
Yongnan Zhu at <a href="mailto:yongnan@umbc.edu">
    <span style='font-family:Helvetica'>yongnan@umbc.edu</span></a>
<span style='font-family:Helvetica'><o:p></o:p></span>.

<h2> Thank you very much Again! </h2>
</p>
<br/>
</div>
<br/>
</body>
</html>
